# linux

linux是一种开源免费的操作系统，创始人是linus，常用于做服务器

## 发行版本

redhat(红帽)，ubuntu(乌班图)，CentOS，debain(蝶变)，Suse

## 安装VMware

下载vmware12，安装

## 安装centos

### 创建空间

1，进入vmware主页，点击创建新的虚拟机

2，选择   典型 ，next

3，选择      稍后安装操作系统，next

4，选择     linux，选择centos64位，next

5，自定义虚拟机的名称和安装位置，next

6，选择磁盘大小20g，勾选拆分成多个磁盘文件next

7，自定义硬件不管，finish，虚拟机空间创建完成

### 网络连接说明

点击`编辑虚拟机设置`,选择网络适配器，可以看到三种虚拟机连接模式,**一般选择nat**

1,桥接模式，此虚拟机可以与其他局域网下的电脑通讯，但是虚拟机过多，容易造成ip冲突

2,Nat模式，会在windows产生另一个ip，与当前windows的ip不在同一个网段，而这个ip和虚拟机的ip处于同一个网段，

虚拟机通过网络地址转换可以访问局域网和外网，但是外面不能访问虚拟机，也不会造成ip冲突

3,仅主机模式，linux系统不能访问局域网和外网

### 安装系统

1,点击虚拟机设置，选择cd/dvd

2,使用iso镜像文件，找到centos的iso文件 ,确定

3.开启此虚拟机

4,选择install centos 7 ，选择中文，选择**GNOME桌面**，后面会比较方便设置网络，命令也多一些

5,为root根用户设置密码，再创建一个新用户,等待安装完成

## linux的目录结构

`/` 作为系统的根目录

`~` 作为当前用户的用户目录

`/bin` 系统的常用命令，有cp ，ls等命令

`/sbin` 高权限用户的命令

`/dev`  系统的硬件，有cpu，disk等硬件

`/etc` 存放系统配置文件

`/root` 根用户的家目录

`/home` 其他用户的家目录，每创建一个用户都会在这里面创建文件夹

`/lib` 静态库

`/media` 映射cd、dvd，u盘等

`/mnt` 临时挂载别的文件系统

`/opt` 用户安装软件的地方

`/proc` 内核

`/sys` 系统文件

`/srv` 服务service

`/boot` 系统的引导程序

`/tmp` 临时文件夹

`/var` 变量文件，通常放日志

`/usr` 用户的文件

## 命令

### 编辑 vi vim

所有的linux都有vi编辑器，vim是一个vi的增强版

**一般模式**：可以使用快捷键,打开一个文档的默认模式

在一般模式通过`h左`，`j下`，`k上`，`l右`，来移动光标,因为远古时期的键盘没有方向键

`x`删除单个字符       `0`定位行首       `$` 行尾       `b`单词首字母   `e`单词尾字母 

`w`下一个单词首字母   `gg`文件的开头    `G`文件的结尾    数字+`G`跳转到第几行

d 命令可以和上面的命令配合，删除指定的内容，比如 `d0`删除到结尾

`dd`删除当前行     

配合数字可以重复命令，比如`3l` 向右移动3次

`u` 撤销最后次修改    `U`撤销整行的修改    `ctrl r` 恢复撤销

`p` 粘贴，删除的东西都会存在暂存区，通过p粘贴

`y` 复制，配合定位命令, 比如ye，拷贝当前单词

`r`替换,按下r，再按字符替换

`%`在括号上按，跳转到另一个对应的括号

`v`进入可视模式，移动光标可以选择内容

`<<` 反缩进 ，`>>`缩进  可以配合数字，如`3>>`可以把后面三行一起缩进

`/`向后搜索，输入`/abc`回车，搜索abc字符   `?`向前搜索   特殊字符用反斜杠转义`\`

**插入模式**：按`a`或`i`或`o`，进入该模式，可以输入内容,按`esc`退出

aoi的区别是进入插入模式的光标位置的区别，一般用`i`,

**命令行模式**：按`:`进入命令行模式，保存退出等命令

`wq` 保存并退出

`w 文件名`   另存为

`q!`  不保存强制退出

`nohl`  去除高亮

`!shell` 叹号加可以执行系统命令，回车回来，比如  `!ls /`显示根目录

### 关机 

```bash
shutdown -h now        立即关机
shutdown -h  1         1分钟后关机
shutdown -r now        立即重启
halt                   关机
reboot                 重启
logout                 注销当前用户
```

