# 概述

vue 是一个渐进式框架，可以只使用一部分功能，如页面渲染，组件化开发，路由，状态管理，项目构建。

# 基本使用

引入依赖,直接使用 cdn ，或下载后引入

```html
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
```

创建 Vue 实例，通过 el 属性指定一个挂载位置，该元素下的所有子元素都能得到管理

data 属性指定数据对象，可以通过模板语法`{{name}}`渲染被 Vue 管理的标签

```html
<div id="app">
    <div>{{msg}}</div>
</div>
<script>
    let app = new Vue({
        el: "#app",
        data: {
            msg: "Hello Vue"
        }
    })
</script>
```

模板语法支持简单的表达式计算

```html
<div>{{1+2}}</div>
```

# 指令

指令实际上就是自定义属性 ，通常以`v-` 开头

## v-cloak

带上此属性，元素将在渲染完成前隐藏，完全渲染后再显示，防止元素闪动

```html
<div v-cloak>{{msg}}</div>
```

## v-text

把目标数据完全替换子元素

```html
<div v-text="msg"></div>
```

## v-html

与 v-text类似。替换所有子元素，但是数据如果是 html 字符串，将会被解析到页面变成标签

```html
<div id="app">
    <div v-html="msg1"></div>
</div>
<script>
    let app = new Vue({
        el: "#app",
        data: {
            msg1:"<h1>hello</h1>"
        }
    })
</script>
```

## v-pre

使用该属性，将跳过渲染过程。当有特殊需求时，比如显示双花括号

```html
<div v-pre>{{msg}}</div>
```

## v-once

vue 的渲染是响应式的，当数据发生改变时，页面也会跟着变化

使用 v-once 指令，渲染一次过后，不再响应式改变

```html
<div id="app">
    <div v-once>{{msg}}</div>
</div>
<script>
    let app = new Vue({
        el: "#app",
        data: {
            msg: "Hello Vue",
        }
    })
	//改变数据
    app.msg=123
</script>
```

## v-model

使用 v-model 指令，进行数据的双向绑定，当 v-model 元素的 value 发生改变时，使绑定的数据对象也发生改变

```html
<div id="app">
    <div>{{msg}}</div>
    <input type="text" v-model="msg">
</div>
<script>
    let app = new Vue({
        el: "#app",
        data: {
            msg: "Hello Vue",
        }
    })
</script>
```

## v-on

进行事件绑定,语法为`v-on:事件` 

```html
<div id="app">
    <div>{{num}}</div>
    <button v-on:click="num++">btn</button>
</div>
<script>
    let app = new Vue({
        el: "#app",
        data: {
            num: 0
        }
    })
</script>
```

事件绑定可以简写为 `@事件` 

```html
<button @click="num++">btn</button>
```

### 绑定函数

如果需要绑定函数，则需在 methods 属性中声明函数，通过 this 访问数据对象，this 实际上就是当前的 Vue 对象

绑定事件时，只需指定函数名称即可

```html
<div id="app">
    <div>{{num}}</div>
    <button @click="add">btn</button>
</div>
<script>
    let app = new Vue({
        el: "#app",
        data: {
            num: 0
        },
        methods: {
            add: function () {
                console.log(this === app)
                this.num++
            }
        }
    })
</script>
```

如果使用 es6 的语法，可以省略掉 function 

```js
methods: {
    add() {
        this.num++
    }
}
```

### 参数传递

如果直接使用函数名，默认第一个参数传入 event 对象，代表当前事件

```html
<div id="app">
    <div>{{num}}</div>
    <button @click="add">btn</button>
</div>
<script>
    let app = new Vue({
        el: "#app",
        data: {
            num: 0
        },
        methods: {
            add(event) {
                console.log(event.target.tagName)
                this.num++
            }
        }
    })
</script>
```

如果需要其他参数,通过调用的方式传入，此时不再默认传 event 对象

如果需要用到 event 对象，将名为 $event 参数作为最后一个参数传入

```html
<div id="app">
    <div>{{num}}</div>
    <button @click="add(123,'zs',$event)">btn</button>
</div>
<script>
    let app = new Vue({
        el: "#app",
        data: {
            num: 0
        },
        methods: {
            add(p1,p2,event) {
                console.log(p1)
                console.log(p2)
                console.log(event.target.tagName)
                this.num++
            }
        }
    })
</script>
```

### 事件修饰符

#### 事件冒泡

事件冒泡指，子元素触发事件，父元素也会触发相同类型的事件。

阻止事件冒泡的传统方式为 调用 事件对象的 `stopPropagation()` 函数

```html
<div id="app">
    <div>{{num}}</div>
    <div @click="add2">
        <button @click="add">btn</button>
    </div>
</div>
<script>
    let app = new Vue({
        el: "#app",
        data: {
            num: 0
        },
        methods: {
            add(event) {
                event.stopPropagation()
                this.num++
            },
            add2(){
                console.log("add222")
            }
        }
    })
</script>
```

如果使用 Vue，只需在绑定函数加上`.stop`修饰

```html
<div id="app">
    <div>{{num}}</div>
    <div @click="add2">
        <button @click.stop="add">btn</button>
    </div>
</div>
<script>
    let app = new Vue({
        el: "#app",
        data: {
            num: 0
        },
        methods: {
            add() {
                this.num++
            },
            add2(){
                console.log("add222")
            }
        }
    })
</script>
```

#### 事件默认行为

当元素本身存在默认行为，如 a 标签的点击事件会跳转，通过`.prevent` 修饰，阻止默认的跳转行为

```html
<a @click.prevent="add" href="https://www.hao123.com">hao123</a>
```

事件修饰符可以串联

```html
<a @click.prevent.stop="add" href="https://www.hao123.com">hao123</a>
```

### 按键修饰符

当存在与按键相关事件时，如 onkeyup ,可以使用按键修饰符绑定指定按键，如 `.enter` ,按下回车时触发

```html
<input type="text" @keyup.enter="add">
```

常见的按键符有`.space`,`.esc`,`.delete`,`.tab`,`.up`,`.down`,`.right`,`.left`等

自定义按键修饰符，通过`Vue.config.keyCodes.修饰符=键码` 配置,触发事件的键码可以通过`event.keyCode` 获取

```html
<div id="app">
    <div>{{num}}</div>
    <input type="text" @keyup.a="add">
    <button @click="add">btn</button>
</div>
<script>
    Vue.config.keyCodes.a=65

    let app = new Vue({
        el: "#app",
        data: {
            num: 0
        },
        methods: {
            add(event) {
                console.log(event.keyCode)
                this.num++
            }
        }
    })
</script>
```

